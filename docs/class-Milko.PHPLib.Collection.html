<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Milko\PHPLib\Collection | milkolib reference documentation</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">milkolib reference documentation</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-Milko.PHPLib.html" title="Summary of Milko\PHPLib"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
					</li>

						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="-API-documentation.zip" title="Download documentation as ZIP archive"><span>Download</span></a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li>
						<a href="namespace-Composer.html">
							Composer<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Composer.Autoload.html">
							Autoload						</a>
							</li>
								</ul></li>
					<li class="active">
						<a href="namespace-Milko.html">
							Milko<span></span>
						</a>
							<ul>
					<li class="active">
						<a href="namespace-Milko.PHPLib.html">
							PHPLib<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Milko.PHPLib.ArangoDB.html">
							ArangoDB						</a>
							</li>
					<li>
						<a href="namespace-Milko.PHPLib.MongoDB.html">
							MongoDB						</a>
							</li>
								</ul></li></ul></li>
					<li>
						<a href="namespace-MongoDB.html">
							MongoDB<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-MongoDB.Exception.html">
							Exception						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Model.html">
							Model						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Operation.html">
							Operation						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Tests.html">
							Tests<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-MongoDB.Tests.Collection.html">
							Collection<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-MongoDB.Tests.Collection.CrudSpec.html">
							CrudSpec						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-MongoDB.Tests.Database.html">
							Database						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Tests.Operation.html">
							Operation						</a>
							</li>
								</ul></li></ul></li>
					<li>
						<a href="namespace-None.html">
							None						</a>
							</li>
					<li>
						<a href="namespace-PHP.html">
							PHP						</a>
							</li>
					<li>
						<a href="namespace-triagens.html">
							triagens<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-triagens.ArangoDb.html">
							ArangoDb						</a>
							</li>
								</ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Milko.PHPLib.Collection.html">Collection</a></li>
				<li><a href="class-Milko.PHPLib.Container.html">Container</a></li>
				<li><a href="class-Milko.PHPLib.Database.html">Database</a></li>
				<li><a href="class-Milko.PHPLib.DataServer.html">DataServer</a></li>
				<li><a href="class-Milko.PHPLib.DataSource.html">DataSource</a></li>
				<li><a href="class-Milko.PHPLib.Document.html">Document</a></li>
				<li><a href="class-Milko.PHPLib.DocumentSet.html">DocumentSet</a></li>
				<li><a href="class-Milko.PHPLib.Server.html">Server</a></li>
				<li><a href="class-Milko.PHPLib.Term.html">Term</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class Collection</h1>


	<div class="description">
	<h4>Collection ancestor object.</h4>

<p>This <em>abstract</em> class is the ancestor of all classes representing collection
instances.</p>

<p>This class features a data member, <code><a href="class-Milko.PHPLib.Collection.html#$mDatabase">Milko\PHPLib\Collection::<var>$mDatabase</var></a></code>, that holds the <code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code>
object that instantiated the current collection and another data member,
<code><a href="class-Milko.PHPLib.Collection.html#$mNativeObject">Milko\PHPLib\Collection::<var>$mNativeObject</var></a></code>, that holds the native driver's collection object.</p>

<p>The class implements a public interface that implements the common interface of derived
concrete classes:</p>

<ul> <li><em>Attribute accessors:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Server.html">Milko\PHPLib\Server</a></code></b>: Return the database server object. <li><b><code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code></b>: Return the database object. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Connection">Milko\PHPLib\Collection::Connection()</a></code></b>: Return the collection native driver object. </ul> <li><em>Collection related:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Truncate">Milko\PHPLib\Collection::Truncate()</a></code></b>: Clear collection contents; this method is virtual. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Drop">Milko\PHPLib\Collection::Drop()</a></code></b>: Drop current collection; this method is virtual. </ul> <li><em>Document related:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_NewDocument">Milko\PHPLib\Collection::NewDocument()</a></code></b>: Convert native data to a standard <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code></b>: Convert a standard <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> to native data. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_NewDocumentHandle">Milko\PHPLib\Collection::NewDocumentHandle()</a></code></b>: Convert a document to a document reference. </ul> <li><em>Default document properties:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code></b>: Return the document key offset. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_ClassOffset">Milko\PHPLib\Collection::ClassOffset()</a></code></b>: Return the document class offset. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_RevisionOffset">Milko\PHPLib\Collection::RevisionOffset()</a></code></b>: Return the document revision offset. </ul> <li><em>Record related:</em> <ul> <li><b>InsertDocument()</b>: Insert one or more documents. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_InsertBulk">Milko\PHPLib\Collection::InsertBulk()</a></code></b>: Insert a bulk of records. <li><b>DeleteDocument()</b>: Delete one or more documents. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_DeleteByKey">Milko\PHPLib\Collection::DeleteByKey()</a></code></b>: Delete by key. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_DeleteByExample">Milko\PHPLib\Collection::DeleteByExample()</a></code></b>: Delete by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_DeleteByQuery">Milko\PHPLib\Collection::DeleteByQuery()</a></code></b>: Delete by native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Update">Milko\PHPLib\Collection::Update()</a></code></b>: Update first or all selected documents. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Replace">Milko\PHPLib\Collection::Replace()</a></code></b>: Replace first or all selected documents. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_FindByKey">Milko\PHPLib\Collection::FindByKey()</a></code></b>: Search by key. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_FindByExample">Milko\PHPLib\Collection::FindByExample()</a></code></b>: Search by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_FindByQuery">Milko\PHPLib\Collection::FindByQuery()</a></code></b>: Perform a native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_RecordCount">Milko\PHPLib\Collection::RecordCount()</a></code></b>: Return collection record count. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_CountByExample">Milko\PHPLib\Collection::CountByExample()</a></code></b>: Return record count by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_CountByQuery">Milko\PHPLib\Collection::CountByQuery()</a></code></b>: Return record count by native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_MapReduce">Milko\PHPLib\Collection::MapReduce()</a></code></b>: Perform a map and reduce query. </ul>
</ul>

<p>The public methods do not implement the actual operations, this is delegated to a
protected virtual interface which must be implemented by derived concrete classes:</p>

<ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_collectionNew">Milko\PHPLib\Collection::collectionNew()</a></code></b>: Instantiate a driver native database instance. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_collectionName">Milko\PHPLib\Collection::collectionName()</a></code></b>: Return the collection name. <li><b>doInsert()</b>: Insert one or more records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doUpdate">Milko\PHPLib\Collection::doUpdate()</a></code></b>: Update one or many records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doReplace">Milko\PHPLib\Collection::doReplace()</a></code></b>: Replace one or many records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doFindByKey">Milko\PHPLib\Collection::doFindByKey()</a></code></b>: Find one or many records by key. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doFindByExample">Milko\PHPLib\Collection::doFindByExample()</a></code></b>: Find one or many records by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doFindByQuery">Milko\PHPLib\Collection::doFindByQuery()</a></code></b>: Perform a driver native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByKey">Milko\PHPLib\Collection::doDeleteByKey()</a></code></b>: Delete one or many records by key. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByExample">Milko\PHPLib\Collection::doDeleteByExample()</a></code></b>: Delete one or many records by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByQuery">Milko\PHPLib\Collection::doDeleteByQuery()</a></code></b>: Delete one or many records by query. <li><b>doCount()</b>: Return record count in collection. <li><b>doCountByExample()</b>: Return record count by example. <li><b>doCountByQuery()</b>: Return record count by native query.
</ul>

<p>When persisting documents, this class expects all provided documents to be instances of
<code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>.</p>
	</div>

	<dl class="tree well">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
			<a href="class-Milko.PHPLib.Container.html"><span>Milko\PHPLib\Container</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Milko\PHPLib\Collection</span></b>			
			
			
		</dd>
	</dl>


	<div>
		<h3>Direct known subclasses</h3>
		<p class="elementList">
			<code><a href="class-Milko.PHPLib.ArangoDB.Collection.html">Milko\PHPLib\ArangoDB\Collection</a></code>, 
			<code><a href="class-Milko.PHPLib.MongoDB.Collection.html">Milko\PHPLib\MongoDB\Collection</a></code>
		</p>
	</div>






	<div class="alert alert-info">
		<b>Abstract</b><br>
		
		<b>Namespace:</b> <a href="namespace-Milko.html">Milko</a>\<a href="namespace-Milko.PHPLib.html">PHPLib</a><br>
		<b>Package:</b> Core<br>

				<b>Author:</b>
				Milko A. Škofič <a href="&#109;&#x61;&#105;&#x6c;&#116;&#111;&#x3a;&#115;&#x6b;&#111;&#x66;i&#99;&#x40;&#103;&#x6d;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#x6d;">&#115;&#x6b;&#111;&#x66;i&#99;&#x40;&#103;&#x6d;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#x6d;</a><br>
				<b>Version:</b>
				1.00<br>
				<b>Since:</b>
				17/02/2016<br>
				<b>Used by:</b>
				<code><a href="class-Milko.PHPLib.DocumentSet.html#___construct">Milko\PHPLib\DocumentSet::__construct()</a></code><br>
				<b>Example:</b>
				../../test/Collection.php<br>
				<b>Example:</b>
				<p>$server = new Milko\PHPLib\DataServer( 'protocol://user:pass@host:9090/database/collection' );<br/>
$database = $server->RetrieveDatabase( "database" );<br/>
$collection = $database->RetrieveCollection( "collection" );<br/>
// Work with that collection...<br/>
$collection->Drop(); // Drop collection.</p><br>
			<b>Located at</b> <a href="source-class-Milko.PHPLib.Collection.html#30-2236" title="Go to source code">PHPLib/Collection.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="__construct" id="___construct">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___construct">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#163-203" title="Go to source code">__construct</a>( <span><code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code> <var>$theDatabase</var></span>, <span>string <var>$theCollection</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Instantiate class.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Instantiate class.</h4>

<p>A database is instantiated by providing the <code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code> instance to which the
collection belongs, the collection name and a set of native database driver options.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDatabase</var></dt>
						<dd>Database.</dd>
						<dt><var>$theCollection</var></dt>
						<dd>Collection name.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Native driver options.</dd>
					</dl></div>



					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_collectionNew">Milko\PHPLib\Collection::collectionNew()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>$server = new DataServer( 'driver://user:pass@host:8989' );<br/>
$database = new Database( $server, "database" );<br/>
$collection = new Collection( $database, "collection" );</p><br>
							<p>// In general you will use this form:<br/>
$server = new DataServer( 'driver://user:pass@host:8989/database/collection' );<br/>
$database = $server->RetrieveDatabase( "database" );<br/>
$collection = $database->RetrieveCollection( "collection" );</p><br>
					</div>

					<h4>Overrides</h4>
					<div class="list"><code><a href="class-ArrayObject.html#___construct">ArrayObject::__construct</a></code></div>

			</div>
			</div></td>
		</tr>
		<tr data-order="__toString" id="___toString">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___toString">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#210-224" title="Go to source code">__toString</a>( )</code>

			<div class="description short">
				<h4>Return collection name</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return collection name</h4>

<p>Objects of this class should return the collection name when cast to string.</p>

<p>The method will use the protected <code><a href="class-Milko.PHPLib.Collection.html#_collectionName">Milko\PHPLib\Collection::collectionName()</a></code> method.</p>



					<h4>Returns</h4>
					<div class="list">
						string
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_collectionName">Milko\PHPLib\Collection::collectionName()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							$name = (string) $collection;<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Server" id="_Server">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Milko.PHPLib.DataServer.html">Milko\PHPLib\DataServer</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Server">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#240-249" title="Go to source code">Server</a>( )</code>

			<div class="description short">
				<h4>Return the database server.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the database server.</h4>

<p>This method can be used to retrieve the database server object.</p>



					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Milko.PHPLib.DataServer.html">Milko\PHPLib\DataServer</a></code><br>Collection server object.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Database" id="_Database">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Database">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#256-266" title="Go to source code">Database</a>( )</code>

			<div class="description short">
				<h4>Return the database object.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the database object.</h4>

<p>This method can be used to retrieve the database object.</p>



					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code><br>Database object.
					</div>


					<h4>Example</h4>
					<div class="list">
							$database = $this->Database();<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Connection" id="_Connection">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Connection">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#273-283" title="Go to source code">Connection</a>( )</code>

			<div class="description short">
				<h4>Return the collection native driver object.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the collection native driver object.</h4>

<p>This method can be used to retrieve the collection native driver object.</p>



					<h4>Returns</h4>
					<div class="list">
						mixed<br>Collection native driver object.
					</div>


					<h4>Example</h4>
					<div class="list">
							$col = $this->Connection();<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Truncate" id="_Truncate">

			<td class="attributes"><code>
				abstract public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Truncate">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#299-307" title="Go to source code">Truncate</a>( )</code>

			<div class="description short">
				<h4>Clear the collection contents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Clear the collection contents.</h4>

<p>This method can be used to erase the contents of the collection, it is the
responsibility of the caller to ensure the server is connected.</p>

<p>Derived concrete classes must implement this method.</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="Drop" id="_Drop">

			<td class="attributes"><code>
				abstract public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Drop">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#314-322" title="Go to source code">Drop</a>( )</code>

			<div class="description short">
				<h4>Drop the current collection.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Drop the current collection.</h4>

<p>This method can be used to drop the current collection, it is the responsibility of
the caller to ensure the server is connected.</p>

<p>Derived concrete classes must implement this method.</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="NewNativeDocument" id="_NewNativeDocument">

			<td class="attributes"><code>
				abstract public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_NewNativeDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#338-359" title="Go to source code">NewNativeDocument</a>( <span>mixed <var>$theData</var></span> )</code>

			<div class="description short">
				<h4>Return a native database document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return a native database document.</h4>

<p>This method will instantiate a database native document from the provided data that
can be either a database native document, an array or an object that can be cast to
an array.</p>

<p>This method is declared virtual, to allow database native derived classes to handle
their native types.</p>

<p>This method is called for <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> option
<code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code>.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theData</var></dt>
						<dd>Document data.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>Database native object.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="NewDocument" id="_NewDocument">

			<td class="attributes"><code>
				abstract public 
				<code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_NewDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#366-412" title="Go to source code">NewDocument</a>( <span>mixed <var>$theData</var></span>, <span>string <var>$theClass</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Return a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance.</h4>

<p>This method should instantiate a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance from the provided data
that can be either a database native document, an array or an object that can be
cast to an array, the resulting document's class is determined in the following
order:</p>

<ul> <li><em>$theClass is provided</em>: We instantiate an object of the provided class name. Note that the provided class name will replace the current class name (<code><a href="class-Milko.PHPLib.Collection.html#_ClassOffset">Milko\PHPLib\Collection::ClassOffset()</a></code>) in the provided data, this means that unless you replace the object, these changes will not be recorded. For this reason, the class <em>must</em> be derived from the <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> class. <li><em>Data has <code><a href="class-Milko.PHPLib.Collection.html#_ClassOffset">Milko\PHPLib\Collection::ClassOffset()</a></code></em>: We instantiate the referenced class. <li><em>No class specified either in parameter or data</em>: we instantiate a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> object.
</ul>

<p>The method features these parameters:</p>

<ul> <li><b>$theData</b>: The document data. <li><b>$theClass</b>: The class name of the resulting <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, omit or provide <tt>NULL</tt> to use the recorded class name, or instantiate a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>.
</ul>

<p>This method is declared virtual, to allow database native derived classes to handle
their native types.</p>

<p>If the provided data is already a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the method should in any
case attempt to cenvert it, in order to set the correct class or return a clone.</p>

<p>This method is called for <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> option
<code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code>.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theData</var></dt>
						<dd>Document data.</dd>
						<dt><var>$theClass</var></dt>
						<dd>Expected class name.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code><br>Standard document object.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="NewDocumentHandle" id="_NewDocumentHandle">

			<td class="attributes"><code>
				abstract public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_NewDocumentHandle">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#419-442" title="Go to source code">NewDocumentHandle</a>( <span>mixed <var>$theData</var></span> )</code>

			<div class="description short">
				<h4>Return document handle.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return document handle.</h4>

<p>This method should return a document handle derived from the provided data.</p>

<p>A document handle is a value that contains a reference to the collection and key of
a specific document, and that can be used to point to a specific document instance.</p>

<p>The method is virtual, since document handles depend on the specific database
engine, this means that the structure and business logic must be implemented in
derived classes.</p>

<p>The provided document can either be a database native document, a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code>
instance, an array or an object that can be cast to an array.</p>

<p>If the provided document does not have its <code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code> property, this method
should raise an exception.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theData</var></dt>
						<dd>Document data.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>Document handle.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="NewDocumentKey" id="_NewDocumentKey">

			<td class="attributes"><code>
				abstract public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_NewDocumentKey">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#449-465" title="Go to source code">NewDocumentKey</a>( <span>mixed <var>$theData</var></span> )</code>

			<div class="description short">
				<h4>Return document key.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return document key.</h4>

<p>This method should return a document key from from the provided data.</p>

<p>The provided data can either be a database native document, a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code>
instance, an array or an object that can be cast to an array.</p>

<p>If the provided data does not have its <code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code> property, this method
should raise an exception.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theData</var></dt>
						<dd>Document data.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>Document key.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="KeyOffset" id="_KeyOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_KeyOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#481-489" title="Go to source code">KeyOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document key offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document key offset.</h4>

<p>This represents the default offset of the document key or unique identifier within
its collection, this property is managed by clients.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document key offset.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Document.html#_lockedOffsets">Milko\PHPLib\Document::lockedOffsets()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="ClassOffset" id="_ClassOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_ClassOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#496-505" title="Go to source code">ClassOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document class offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document class offset.</h4>

<p>This represents the default offset of the document class name, this property is
managed by clients and serves the purpose on instantiating the right object when
retrieving documents from the database.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document class offset.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Document.html#_lockedOffsets">Milko\PHPLib\Document::lockedOffsets()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="RevisionOffset" id="_RevisionOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_RevisionOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#512-521" title="Go to source code">RevisionOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document revision offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document revision offset.</h4>

<p>This represents the default offset of the document revision, this property represents
the database internal revision of the stored document and it is generally managed by
the database.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document revision offset.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Document.html#_lockedOffsets">Milko\PHPLib\Document::lockedOffsets()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Insert" id="_Insert">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Insert">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#537-600" title="Go to source code">Insert</a>( <span>mixed <var>$theDocument</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Insert document(s).</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert document(s).</h4>

<p>This method can be used to insert a single or a set of documents into the current
collection, the method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The document or documents to be inserted, they should either be in the native database format, Container) instances, arrays or objects that can be cast to an array.
<li><b>$theOptions</b>: An array of options: <ul> <li><b>{@link kTOKEN_OPT_MANY</b>: This option determines whether the first parameter represents a single document or a set of documents: <ul> <li><tt>TRUE</tt>: Insert a set of documents, in this case the provided parameter should be an iterable object as an array or cursor. <li><tt>FALSE</tt>: Insert a single document, in this case the provided parameter will be considered the data to be inserted. </ul> </ul>
</ul>

<p>Two protected methods, <code><a href="class-Milko.PHPLib.Collection.html#_doInsertOne">Milko\PHPLib\Collection::doInsertOne()</a></code> and <code><a href="class-Milko.PHPLib.Collection.html#_doInsertMany">Milko\PHPLib\Collection::doInsertMany()</a></code>, will take
care of performing the actual insertions of, respectively, a single or a set of
documents.</p>

<p>When inserting <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instances this method will call a protected method,
<code><a href="class-Milko.PHPLib.Collection.html#_normaliseInsertedDocument">Milko\PHPLib\Collection::normaliseInsertedDocument()</a></code>, which will update the inserted key, set the
document's persistent state and reset the document's modification state.</p>

<p>The method will return the newly inserted document key or an array of document keys
if provided with a set of documents.</p>

<p>By default the operation will assume we provided a single document.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The document(s) to be inserted.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Insert options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The document's unique identifier(s).
					</div>


					<h4>Example</h4>
					<div class="list">
							<p>// Insert a single document.<br/>
$id = $collection->Insert( $document );<br/>
// Insert a list of documents.<br/>
$ids = $collection->Insert( $list, [ kTOKEN_OPT_MANY => TRUE ] );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="InsertBulk" id="_InsertBulk">

			<td class="attributes"><code>
				 public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_InsertBulk">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#607-635" title="Go to source code">InsertBulk</a>( <span>mixed <var>$theList</var></span> )</code>

			<div class="description short">
				<h4>Insert a set of documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert a set of documents.</h4>

<p>The method expects a single parameter which represents the list of documents, these
should either be in the native database format, Container) instances, arrays,
or objects that can be cast to an array. The parameter should be an array.</p>

<p>The method will not modify the provided document set, use {@link Insert() for that
matter.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theList</var></dt>
						<dd>The documents list.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>The document keys.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doInsertBulk">Milko\PHPLib\Collection::doInsertBulk()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Delete" id="_Delete">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Delete">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#651-713" title="Go to source code">Delete</a>( <span>mixed <var>$theDocument</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Delete document(s).</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete document(s).</h4>

<p>This method can be used to delete a single or a set of documents from the current
collection, the method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The document or documents to be deleted, they should either be in the native database format, Container) instances, arrays or objects that can be cast to an array.
<li><b>$theOptions</b>: An array of options: <ul> <li><b>{@link kTOKEN_OPT_MANY</b>: This option determines whether the first parameter represents a single document or a set of documents: <ul> <li><tt>TRUE</tt>: Delete a set of documents, in this case the provided parameter should be an iterable object as an array or cursor. <li><tt>FALSE</tt>: Delete a single document, in this case the provided parameter will be considered the data to be inserted. </ul> </ul>
</ul>

<p>Two protected methods, <code><a href="class-Milko.PHPLib.Collection.html#_doDeleteOne">Milko\PHPLib\Collection::doDeleteOne()</a></code> and <code><a href="class-Milko.PHPLib.Collection.html#_doDeleteMany">Milko\PHPLib\Collection::doDeleteMany()</a></code>, will take
care of performing the actual deletions of, respectively, a single or a set of
documents.</p>

<p>When deleting <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instances this method will call a protected method,
<code><a href="class-Milko.PHPLib.Collection.html#_normaliseDeletedDocument">Milko\PHPLib\Collection::normaliseDeletedDocument()</a></code>, which will reset the document's persistent state
and set the document's modification state.</p>

<p>The method will return the number of deleted documents.</p>

<p>By default the operation will assume we provided a single document.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The document(s) to be deleted.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Insert options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>Number of deleted documents.
					</div>


					<h4>Example</h4>
					<div class="list">
							<p>// Delete a single document.<br/>
$count = $collection->Delete( $document );<br/>
// Delete a list of documents.<br/>
$count = $collection->Delete( $list, [ kTOKEN_OPT_MANY => TRUE ] );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="DeleteByKey" id="_DeleteByKey">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_DeleteByKey">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#720-766" title="Go to source code">DeleteByKey</a>( <span>mixed <var>$theKey</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Delete by key.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete by key.</h4>

<p>This method will delete the documents that match the provided key or key(s) in the
current collection, or do nothing if the document cannot be matched.</p>

<p>The method features two parameters:</p>

<ul>
<li><b>$theKey</b>: The document key(s) to match.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether the first parameter is a set of keys or a single key: <ul> <li><tt>TRUE</tt>: Provided a set of keys; the first parameter should be iterable. <li><tt>FALSE</tt>: Provided a single key. </ul> </ul>
</ul>

<p>The method will use the <code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByKey">Milko\PHPLib\Collection::doDeleteByKey()</a></code> method to perform the deletions and
will return the number of deleted documents.</p>

<p>By default the operation will assume we provided a single key.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theKey</var></dt>
						<dd>The document identifier.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Delete options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The deleted records count.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByKey">Milko\PHPLib\Collection::doDeleteByKey()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="DeleteByExample" id="_DeleteByExample">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_DeleteByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#773-821" title="Go to source code">DeleteByExample</a>( <span>mixed <var>$theDocument</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Delete by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete by example.</h4>

<p>This method can be used to delete the first or all documents matching the provided
example document. The method will select all documents in the collection whose
properties match all the properties of the provided example document, this means that
the method will generate a query that puts in <tt>AND</tt> all the provided document
offsets.</p>

<p>The method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The example document; it must be either an array, a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance, or a native database document.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether to delete the first or all selected documents: <ul> <li><tt>TRUE</tt>: Delete all selected documents; the first parameter should be iterable. <li><tt>FALSE</tt>: Delete the first document. </ul> </ul>
</ul>

<p>By default, the method will delete all selected documents and will return the number
of deleted records.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Delete options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The deleted records count.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByExample">Milko\PHPLib\Collection::doDeleteByExample()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="DeleteByQuery" id="_DeleteByQuery">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_DeleteByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#828-873" title="Go to source code">DeleteByQuery</a>( <span>mixed <var>$theQuery</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Delete by query.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete by query.</h4>

<p>This method can be used to delete all documents matching the provided query. The
method will select all documents in the collection that match the provided query and
delete them.</p>

<p>The method expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The selection query in the native database format.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether to delete the first or all selected documents: <ul> <li><tt>TRUE</tt>: Delete all selected documents; the first parameter should be iterable. <li><tt>FALSE</tt>: Delete the first document. </ul> </ul>
</ul>

<p>By default, the method will delete all selected records and will return the number
of deleted records.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection filter.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Delete options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The deleted records count.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doDeleteByExample">Milko\PHPLib\Collection::doDeleteByExample()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Update" id="_Update">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Update">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#889-939" title="Go to source code">Update</a>( <span>mixed <var>$theCriteria</var></span>, <span>mixed <var>$theFilter</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Update documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Update documents.</h4>

<p>This method can be used to update one or more documents in the collection, the method
expects the following parameters:</p>

<ul>
<li><b>$theCriteria</b>: The modification criteria in the native database format.
<li><b>$theFilter</b>: The selection criteria in the native database format.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether to update the first selected document, or all the selected documents: <ul> <li><tt>TRUE</tt>: Update all records selected by the filter. <li><tt>FALSE</tt>: Update the first record selected by the filter. </ul> </ul>
</ul>

<p>Both the criteria and the filter must be provided in the native database format and
if no options are provided, the operation will process all documents in the
selection.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theCriteria</var></dt>
						<dd>The modification criteria.</dd>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Update options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of modified records.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doUpdate">Milko\PHPLib\Collection::doUpdate()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Update first document.<br/>
$count = $collection->Update( $criteria, $filter, [ kTOKEN_OPT_MANY => FALSE ] );<br/>
// Update all documents.<br/>
$count = $collection->Update( $criteria, $filter );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Replace" id="_Replace">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Replace">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#946-966" title="Go to source code">Replace</a>( <span>mixed <var>$theDocument</var></span> )</code>

			<div class="description short">
				<h4>Replace a document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Replace a document.</h4>

<p>This method can be used to replace the provided document in a collection, the method
expects the document in the native database format, as a {@link Container) instance,
as an array or as an object that can be cast to an array.</p>

<p>The provided replacement document state will not be updated in this method.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The replacement document.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of replaced records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doReplace">Milko\PHPLib\Collection::doReplace()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="FindByKey" id="_FindByKey">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FindByKey">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#982-1042" title="Go to source code">FindByKey</a>( <span>mixed <var>$theKey</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Find by key.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by key.</h4>

<p>This method will return the documents that match the provided key or keys in the
current collection, the method features two parameters:</p>

<ul>
<li><b>$theKey</b>: The document key(s) to match.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether the first parameter is a set of keys or a single key: <ul> <li><tt>TRUE</tt>: Provided a set of keys, will return an array of results. <li><tt>FALSE</tt>: Provided a single key, will return the document or <tt>NULL</tt>. </ul> <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: Return <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return (@link NewDocumentHandle()}) instances. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return document key(s). </ul> </ul>
</ul>

<p>If the provided <code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code> option is <tt>FALSE</tt>, the method will
return a scalar result (except if the <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> is
<code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code>), if not, it will return an array of results.</p>

<p>By default the method will return documents as <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> derived instances
and assume the provided key is a scalar.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theKey</var></dt>
						<dd>The document key(s).</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found document(s).
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doFindByKey">Milko\PHPLib\Collection::doFindByKey()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="FindByHandle" id="_FindByHandle">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FindByHandle">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1049-1111" title="Go to source code">FindByHandle</a>( <span>mixed <var>$theHandle</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Find by document handle.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by document handle.</h4>

<p>This method will return the documents that match the provided document handle or
handles in the collection specified by the handle, the method features two
parameters:</p>

<ul>
<li><b>$theHandle</b>: The document handle(s) to match.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether the first parameter is a set of handles or a single handle: <ul> <li><tt>TRUE</tt>: Provided a set of handles, will return an array of results. <li><tt>FALSE</tt>: Provided a single handle, will return the document or <tt>NULL</tt>. </ul> <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: Return <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return (@link NewDocumentHandle()}) instances. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return document key(s). </ul> </ul>
</ul>

<p>If the provided <code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code> option is <tt>FALSE</tt>, the method will
return a scalar result (except if the <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> is
<code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code>), if not, it will return an array of results.</p>

<p>By default the method will return documents as <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> derived instances
and assume the provided key is a scalar.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theHandle</var></dt>
						<dd>The document handle(s).</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found document(s).
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doFindByHandle">Milko\PHPLib\Collection::doFindByHandle()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="FindByExample" id="_FindByExample">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FindByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1118-1188" title="Go to source code">FindByExample</a>( <span>mixed <var>$theDocument</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Find by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by example.</h4>

<p>This method can be used to select all documents matching the provided example
document. The method will select all documents in the collection whose properties
match all the properties of the provided example document, this means that the method
will generate a query that puts in <tt>AND</tt> all the provided document offsets.</p>

<p>The method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The example document; it must be either an array, a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance, or a native database document.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code></b>: This option determines how many records to skip in the results selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to return, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: Return either a scalar or an array of <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return either a scalar or an array of document handles (@link NewDocumentHandle()}). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return document key(s). </ul> </ul>
</ul>

<p>The result will always be an iterable object, by default the method will use the
<code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code> option and return the full selection.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doFindByExample">Milko\PHPLib\Collection::doFindByExample()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Find first five document.
$iterator = $collection->FindByExample( [ 'color' => 'red', 'city' => 'Rome' ], [ kTOKEN_OPT_SKIP => 0, kTOKEN_OPT_LIMIT => 5 ] );<br/>
// Find all selected documents.<br/>
$iterator = $collection->FindByExample( [ 'color' => 'red', 'city' => 'Rome' ] );<br/>
// Find all documents.<br/>
$iterator = $collection->FindByExample();</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="FindByQuery" id="_FindByQuery">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FindByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1195-1252" title="Go to source code">FindByQuery</a>( <span>mixed <var>$theQuery</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Query the collection.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Query the collection.</h4>

<p>This method can be used to perform a query in the current collection, the method
expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The query in the driver native format.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code></b>: This option determines how many records to skip in the results selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to return, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: Return either a scalar or an array of <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return either a scalar or an array of document handles (@link NewDocumentHandle()}). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return document key(s). </ul> </ul>
</ul>

<p>The result will always be an iterable object, by default the method will use the
<code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code> option and return the full selection.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Query options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found records.
					</div>


					<h4>See</h4>
					<div class="list">
							<code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code><br>
							<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code><br>
					</div>
					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doFindByQuery">Milko\PHPLib\Collection::doFindByQuery()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_normaliseOptions">Milko\PHPLib\Collection::normaliseOptions()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="RecordCount" id="_RecordCount">

			<td class="attributes"><code>
				abstract public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_RecordCount">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1268-1277" title="Go to source code">RecordCount</a>( )</code>

			<div class="description short">
				<h4>Count documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Count documents.</h4>

<p>This method can be used to get the total number of documents in the collection.</p>

<p>Concrete derived classes must implement this method.</p>



					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of records in the collection.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="CountByExample" id="_CountByExample">

			<td class="attributes"><code>
				abstract public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_CountByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1284-1304" title="Go to source code">CountByExample</a>( <span>mixed <var>$theDocument</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Count by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Count by example.</h4>

<p>This method can be used to return the record count matching the provided example
document. The method will select all documents in the collection whose properties
match all the properties of the provided example document, this means that the method
will generate a query that puts in <tt>AND</tt> all the provided document offsets.</p>

<p>The provided document must be either an array, a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance, or a
native database document.</p>

<p>This method must be implemented in concrete derived classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The found records count.
					</div>


					<h4>Example</h4>
					<div class="list">
							<p>// Get record count.
$count = $collection->CountByExample( [ 'color' => 'red', 'city' => 'Rome' ] );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="CountByQuery" id="_CountByQuery">

			<td class="attributes"><code>
				abstract public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_CountByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1311-1322" title="Go to source code">CountByQuery</a>( <span>mixed <var>$theQuery</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Count by query.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Count by query.</h4>

<p>This method can be used to return the record count matching the provided query, the
query should be provided in the database native format.</p>

<p>This method must be implemented in concrete derived classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The found records count.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="MapReduce" id="_MapReduce">

			<td class="attributes"><code>
				abstract public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_MapReduce">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1338-1369" title="Go to source code">MapReduce</a>( <span>mixed <var>$thePipeline</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Execute an aggregation query.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Execute an aggregation query.</h4>

<p>This method can be used to perform a map and reduce query, the method expects the
following parameters:</p>

<ul>
<li><b>$thePipeline</b>: The aggregation pipeline in native format.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code></b>: This option determines how many records to skip in the results selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. The corresponding value will be set in the native <tt>skip</tt> option. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to return, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. The corresponding value will be set in the native <tt>limit</tt> option. </ul>
</ul>

<p>The method will return an array of documents as arrays.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$thePipeline</var></dt>
						<dd>The aggregation pipeline.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Query options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>The result set.
					</div>


					<h4>Uses</h4>
					<div class="list">
							doMapReduce()<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="collectionNew" id="_collectionNew">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_collectionNew">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1385-1405" title="Go to source code">collectionNew</a>( <span>string <var>$theCollection</var></span>, <span>array <var>$theOptions</var> = [] </span> )</code>

			<div class="description short">
				<h4>Return a native collection object.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return a native collection object.</h4>

<p>This method should instantiate and return a native driver collection object.</p>

<p>This method assumes that the server is connected and that the <code><a href="class-Milko.PHPLib.Server.html">Milko\PHPLib\Server</a></code> was
set.</p>

<p>The options parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theCollection</var></dt>
						<dd>Collection name.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>Native collection object.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#___construct">Milko\PHPLib\Collection::__construct()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="collectionName" id="_collectionName">

			<td class="attributes"><code>
				abstract protected 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_collectionName">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1412-1429" title="Go to source code">collectionName</a>( )</code>

			<div class="description short">
				<h4>Return the collection name.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the collection name.</h4>

<p>This method should return the current collection name.</p>

<p>Note that this method <em>must</em> return a non empty string.</p>

<p>The provided parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>This method must be implemented by derived concrete classes.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>The collection name.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#___toString">Milko\PHPLib\Collection::__toString()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doInsertOne" id="_doInsertOne">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doInsertOne">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1445-1471" title="Go to source code">doInsertOne</a>( <span>mixed <var>$theDocument</var></span> )</code>

			<div class="description short">
				<h4>Insert a document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert a document.</h4>

<p>This method should insert the provided document into the current collection, the
document should be provided in a format compatible with the
<code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code> method.</p>

<p>When implementing the method you <em>must</em> follow this workflow:</p>

<ul> <li>If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, call its Validate() method to ensure it is valid. <li>Prepare the document to be inserted, generally by calling the protected method <code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code>. <li>Insert the document. <li>Call the protected method normalistInsertedDocument(). <li>Return the document key.
</ul>

<p>The method should return the newly inserted document's key (<code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code>).</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The document to be inserted.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The inserted document's key.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="doInsertMany" id="_doInsertMany">

			<td class="attributes"><code>
				 protected 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doInsertMany">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1478-1508" title="Go to source code">doInsertMany</a>( <span>mixed <var>$theList</var></span> )</code>

			<div class="description short">
				<h4>Insert a list of documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert a list of documents.</h4>

<p>This method should insert the provided list of documents into the current collection,
the documents in the list should be provided in the database native format, as
returned by the <code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code> method.</p>

<p>The provided list should either be an array or an iterable object.</p>

<p>The method should return the list of newly inserted document keys
(<code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code>) as an array.</p>

<p>We implement the method in this class to iteratively call the <code><a href="class-Milko.PHPLib.Collection.html#_doInsertOne">Milko\PHPLib\Collection::doInsertOne()</a></code>
method, in derived classes you may overload this method if necessary.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theList</var></dt>
						<dd><p>An iterable list of documents in
                                                    native database format.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>The list of inserted document keys.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="doInsertBulk" id="_doInsertBulk">

			<td class="attributes"><code>
				abstract protected 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doInsertBulk">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1515-1529" title="Go to source code">doInsertBulk</a>( <span>array <var>$theList</var></span> )</code>

			<div class="description short">
				<h4>Insert a list of documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert a list of documents.</h4>

<p>This method should insert the provided list of documents into the current collection,
the provided list of documents should be in the native database format.</p>

<p>This method will return an array of the newly inserted document keys and will not
update the provided list.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theList</var></dt>
						<dd>The documents list.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>The document keys.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_InsertBulk">Milko\PHPLib\Collection::InsertBulk()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doDeleteOne" id="_doDeleteOne">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doDeleteOne">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1545-1571" title="Go to source code">doDeleteOne</a>( <span>mixed <var>$theDocument</var></span> )</code>

			<div class="description short">
				<h4>Delete a document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete a document.</h4>

<p>This method should delete the provided document from the current collection, the
document should be provided in a format compatible with the
<code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code> method.</p>

<p>When implementing the method you <em>must</em> follow this workflow:</p>

<ul> <li>Prepare the document to be deleted, generally by calling the protected method <code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code>, or by retrieving its key. <li>Check the document key (<code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code>): if it is missing raise an exception. <li>Delete the document. <li>Call the protected method normalistDeletedDocument(). <li>Return the number of deleted documents.
</ul>

<p>The method should return the number of deleted documents, normally <tt>1</tt>.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The document to be deleted.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The number of deleted documents.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="doDeleteMany" id="_doDeleteMany">

			<td class="attributes"><code>
				 protected 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doDeleteMany">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1578-1607" title="Go to source code">doDeleteMany</a>( <span>mixed <var>$theList</var></span> )</code>

			<div class="description short">
				<h4>Delete a list of documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete a list of documents.</h4>

<p>This method should delete the provided list of documents from the current collection,
the documents in the list should be provided in the database native format, as
returned by the <code><a href="class-Milko.PHPLib.Collection.html#_NewNativeDocument">Milko\PHPLib\Collection::NewNativeDocument()</a></code> method.</p>

<p>The provided list should either be an array or an iterable object.</p>

<p>The method should return the number of deleted documents.</p>

<p>We implement the method in this class to iteratively call the <code><a href="class-Milko.PHPLib.Collection.html#_doDeleteOne">Milko\PHPLib\Collection::doDeleteOne()</a></code>
method, in derived classes you may overload this method if necessary.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theList</var></dt>
						<dd><p>An iterable list of documents in
                                                    native database format.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>Number of deleted methods.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="doDeleteByKey" id="_doDeleteByKey">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doDeleteByKey">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1614-1641" title="Go to source code">doDeleteByKey</a>( <span>mixed <var>$theKey</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Delete the first or all records by key.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete the first or all records by key.</h4>

<p>This method should delete the first or all records matching the provided key(s), the
method expects the following parameters:</p>

<ul>
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether to delete the first selected document, or all the selected documents: <ul> <li><tt>TRUE</tt>: Delete all records selected by the filter. <li><tt>FALSE</tt>: Delete the first record selected by the filter. </ul> </ul>
</ul>

<p>The method should return the number of deleted documents.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theKey</var></dt>
						<dd>The document key(s).</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of deleted records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_DeleteByKey">Milko\PHPLib\Collection::DeleteByKey()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doDeleteByExample" id="_doDeleteByExample">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doDeleteByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1648-1676" title="Go to source code">doDeleteByExample</a>( <span>mixed <var>$theDocument</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Delete the first or all records by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete the first or all records by example.</h4>

<p>This method should delete the first or all records matching the provided example
document, the method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The example document; it must be either an array, a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, or a native database document.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code></b>: This option determines how many records to skip in the selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to delete, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. </ul>
</ul>

<p>The method should return the number of deleted documents.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Delete options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of deleted records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_DeleteByExample">Milko\PHPLib\Collection::DeleteByExample()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_DeleteByQuery">Milko\PHPLib\Collection::DeleteByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doDeleteByQuery" id="_doDeleteByQuery">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doDeleteByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1683-1710" title="Go to source code">doDeleteByQuery</a>( <span>mixed <var>$theQuery</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Delete the first or all records by query.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete the first or all records by query.</h4>

<p>This method should delete the first or all records matching the provided query, the
method expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The selection query.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code></b>: This option determines how many records to skip in the selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to delete, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. </ul>
</ul>

<p>The method should return the number of deleted documents.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Delete options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of deleted records.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="doUpdate" id="_doUpdate">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doUpdate">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1726-1755" title="Go to source code">doUpdate</a>( <span>mixed <var>$theFilter</var></span>, <span>mixed <var>$theCriteria</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Update one or more records.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Update one or more records.</h4>

<p>This method should update the first or all records matching the provided search
criteria, the method expects the following parameters:</p>

<ul>
<li><b>$theCriteria</b>: The modification criteria in the native database format.
<li><b>$theFilter</b>: The selection criteria in the native database format.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether to update the first selected document, or all the selected documents: <ul> <li><tt>TRUE</tt>: Update all records selected by the filter. <li><tt>FALSE</tt>: Update the first record selected by the filter. </ul> </ul>
</ul>

<p>The method should return the number of updated documents.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theCriteria</var></dt>
						<dd>The modification criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Update options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of modified records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_Update">Milko\PHPLib\Collection::Update()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doReplace" id="_doReplace">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doReplace">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1762-1776" title="Go to source code">doReplace</a>( <span>mixed <var>$theDocument</var></span> )</code>

			<div class="description short">
				<h4>Replace a record.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Replace a record.</h4>

<p>This method should replace the provided document in the current collection, the
document should be provided in the native database format, as a {@link Container)
instance, as an array or as an object that can be cast to an array.</p>

<p>The method should return the number of replaced documents.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The replacement document.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of replaced records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_Replace">Milko\PHPLib\Collection::Replace()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doFindByKey" id="_doFindByKey">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doFindByKey">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1792-1839" title="Go to source code">doFindByKey</a>( <span>mixed <var>$theKey</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Find by key.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by key.</h4>

<p>This method should return the document(s) that matches the provided key(s) in the
current collection, or <tt>NULL</tt> if the document cannot be matched.</p>

<p>The method features two parameters:</p>

<ul>
<li><b>$theKey</b>: The document key(s) to match.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether the first parameter is a set of keys or a single key: <ul> <li><tt>TRUE</tt>: Provided a set of keys, will return an array of results. <li><tt>FALSE</tt>: Provided a single key, will return the document or <tt>NULL</tt>. </ul> <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: The resulting document(s) will be <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances resulting from the <code><a href="class-Milko.PHPLib.Collection.html#_NewDocument">Milko\PHPLib\Collection::NewDocument()</a></code> method. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return either a scalar or an array of document handles (@link NewDocumentHandle()}). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return document key(s). </ul> </ul>
</ul>

<p>If the <code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code> <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> option is set,
the resulting documents will be processed by the <code><a href="class-Milko.PHPLib.Collection.html#_normaliseSelectedDocument">Milko\PHPLib\Collection::normaliseSelectedDocument()</a></code>
method that will set the document persistent state and reset its modification state.</p>

<p>If the provided <code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code> option is <tt>FALSE</tt>, the method should
return a scalar result, if not, it should return an array of results (except if the
<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> is <code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code>).</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theKey</var></dt>
						<dd>The document identifier.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found document(s).
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByKey">Milko\PHPLib\Collection::FindByKey()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doFindByHandle" id="_doFindByHandle">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doFindByHandle">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1846-1892" title="Go to source code">doFindByHandle</a>( <span>mixed <var>$theHandle</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Find by key.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by key.</h4>

<p>This method should return the document(s) that match the provided handle(s) in the
collection specified in the handle, the method features two parameters:</p>

<ul>
<li><b>$theHandle</b>: The document handle(s) to match.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code></b>: This option determines whether the first parameter is a set of handles or a single handle: <ul> <li><tt>TRUE</tt>: Provided a set of handles, will return an array of results. <li><tt>FALSE</tt>: Provided a single handle, will return the document or <tt>NULL</tt>. </ul> <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: The resulting document(s) will be <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances resulting from the <code><a href="class-Milko.PHPLib.Collection.html#_NewDocument">Milko\PHPLib\Collection::NewDocument()</a></code> method. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return either a scalar or an array of document handles (@link NewDocumentHandle()}). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return document key(s). </ul> </ul>
</ul>

<p>If the <code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code> <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> option is set,
the resulting documents will be processed by the <code><a href="class-Milko.PHPLib.Collection.html#_normaliseSelectedDocument">Milko\PHPLib\Collection::normaliseSelectedDocument()</a></code>
method that will set the document persistent state and reset its modification state.</p>

<p>If the provided <code><a href="constant-kTOKEN_OPT_MANY.html"><b>kTOKEN_OPT_MANY</b></a></code> option is <tt>FALSE</tt>, the method should
return a scalar result, if not, it should return an array of results (except if the
<code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> is <code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code>).</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theHandle</var></dt>
						<dd>The document handle(s).</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found document(s).
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByHandle">Milko\PHPLib\Collection::FindByHandle()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doFindByExample" id="_doFindByExample">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doFindByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1899-1943" title="Go to source code">doFindByExample</a>( <span>mixed <var>$theDocument</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Find by example the first or all records.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by example the first or all records.</h4>

<p>This method should find the records matching the provided example document, the
method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The example document; it must be a document in the native database format, a Container) instance, an array or an object that can be cast to an array.
<li><b>$theOptions</b>: An array of options: <ul> <li><b>{@link kTOKEN_OPT_SKIP</b>: This option determines how many records to skip in the results selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to return, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: Return an array of <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances (<code><a href="class-Milko.PHPLib.Collection.html#_NewDocument">Milko\PHPLib\Collection::NewDocument()</a></code>). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return an array of document handles (@link NewDocumentHandle()}). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return selected document key(s) (<code><a href="class-Milko.PHPLib.Collection.html#_NewDocumentKey">Milko\PHPLib\Collection::NewDocumentKey()</a></code>). </ul> </ul>
</ul>

<p>If the <code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code> <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> option is set,
the resulting documents will be processed by the <code><a href="class-Milko.PHPLib.Collection.html#_normaliseSelectedDocument">Milko\PHPLib\Collection::normaliseSelectedDocument()</a></code>
method that will set the document persistent state and reset its modification state.</p>

<p>The result should always be an iterable object.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByExample">Milko\PHPLib\Collection::FindByExample()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doFindByQuery" id="_doFindByQuery">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doFindByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1950-1992" title="Go to source code">doFindByQuery</a>( <span>mixed <var>$theQuery</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Query the collection.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Query the collection.</h4>

<p>This method should perform the provided query expressed in the driver's native
format, the method expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The query in the driver native format.
<li><b>$theOptions</b>: An array of options: <ul> <li><b><code><a href="constant-kTOKEN_OPT_SKIP.html"><b>kTOKEN_OPT_SKIP</b></a></code></b>: This option determines how many records to skip in the results selection, it is equivalent to the SQL <tt>START</tt> directive, it is zero based and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_LIMIT.html"><b>kTOKEN_OPT_LIMIT</b></a></code></b>: This option determines how many records to return, it is equivalent to the SQL <tt>LIMIT</tt> directive and expressed as an integer. <li><b><code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code></b>: This option determines the result format: <ul> <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_NATIVE.html"><b>kTOKEN_OPT_FORMAT_NATIVE</b></a></code></tt>: Return the unchanged driver database result. <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code></tt>: Return an array of <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instances (<code><a href="class-Milko.PHPLib.Collection.html#_NewDocument">Milko\PHPLib\Collection::NewDocument()</a></code>). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_HANDLE.html"><b>kTOKEN_OPT_FORMAT_HANDLE</b></a></code></tt>: Return an array of document handles (@link NewDocumentHandle()}). <li><tt><code><a href="constant-kTOKEN_OPT_FORMAT_KEY.html"><b>kTOKEN_OPT_FORMAT_KEY</b></a></code></tt>: Return selected document key(s) (<code><a href="class-Milko.PHPLib.Collection.html#_NewDocumentKey">Milko\PHPLib\Collection::NewDocumentKey()</a></code>). </ul> </ul>
</ul>

<p>If the <code><a href="constant-kTOKEN_OPT_FORMAT_STANDARD.html"><b>kTOKEN_OPT_FORMAT_STANDARD</b></a></code> <code><a href="constant-kTOKEN_OPT_FORMAT.html"><b>kTOKEN_OPT_FORMAT</b></a></code> option is set,
the resulting documents will be processed by the <code><a href="class-Milko.PHPLib.Collection.html#_normaliseSelectedDocument">Milko\PHPLib\Collection::normaliseSelectedDocument()</a></code>
method that will set the document persistent state and reset its modification state.</p>

<p>The result will always be an iterable object.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Find options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The found records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByQuery">Milko\PHPLib\Collection::FindByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="normaliseOptions" id="_normaliseOptions">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_normaliseOptions">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#2009-2047" title="Go to source code">normaliseOptions</a>( <span>Milko\PHPLib\string <var>$theToken</var></span>, <span>mixed <var>$theDefault</var></span>, <span>array <var>&amp; $theOptions</var></span> )</code>

			<div class="description short">
				<h4>Normalise operation options.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Normalise operation options.</h4>

<p>This method can be used to normalise the options provided to methods, it expects
three parameters:</p>

<ul>
<li><b>$theToken</b>: The option token.
<li><b>$theDefault</b>: The default option value.
<li><b>&$theOptions</b>: The reference to the options.
</ul>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theToken</var></dt>
						<dd>The option token.</dd>
						<dt><var>$theDefault</var></dt>
						<dd>The Default choice.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>$theOptions         The options reference.</dd>
					</dl></div>


					<h4>Throws</h4>
					<div class="list">
						<code><a href="class-InvalidArgumentException.html">InvalidArgumentException</a></code>
					</div>

					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_DeleteByKey">Milko\PHPLib\Collection::DeleteByKey()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_DeleteByExample">Milko\PHPLib\Collection::DeleteByExample()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_DeleteByQuery">Milko\PHPLib\Collection::DeleteByQuery()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_Update">Milko\PHPLib\Collection::Update()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByKey">Milko\PHPLib\Collection::FindByKey()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByHandle">Milko\PHPLib\Collection::FindByHandle()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByExample">Milko\PHPLib\Collection::FindByExample()</a></code><br>
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByQuery">Milko\PHPLib\Collection::FindByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="normaliseInsertedDocument" id="_normaliseInsertedDocument">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_normaliseInsertedDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#2054-2126" title="Go to source code">normaliseInsertedDocument</a>( <span><code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> <var>$theDocument</var></span>, <span>mixed <var>$theData</var></span> )</code>

			<div class="description short">
				<h4>Normalise inserted document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Normalise inserted document.</h4>

<p>This method will be called when a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance has been inserted, its
duty is to pass information back to the document, including eventual internal
native database properties.</p>

<p>The method accepts the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance provided for insertion.
<li><b>$theData</b>: The method in this class expects this parameter to contain the document key (<code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code>), in derived classes you may pass the native inserted document or other information containing database native internal properties.
</ul>

<p>The method is implemented in this class to set global properties:</p>

<ul>
<li><tt><code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code></tt>: The newly inserted key offset will be set back into the document, this is necessary when the document key is automatically generated by the database.
<li><tt><a href="Document::IsPersistent()">Document::IsPersistent()</a></tt>: If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the document's persistent state will be set.
<li><tt><a href="Document::IsModified()">Document::IsModified()</a></tt>: If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the document's modification state will be reset, this should be the last operation performed on the object.
</ul>

<p>In derived classes you should first add internal database properties, such as the
revision (<code><a href="class-Milko.PHPLib.Collection.html#_RevisionOffset">Milko\PHPLib\Collection::RevisionOffset()</a></code>), then call the current method passing the
document key.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The inserted document.</dd>
						<dt><var>$theData</var></dt>
						<dd>The insert operation data.</dd>
					</dl></div>



					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Document.html#_SetKey">Milko\PHPLib\Document::SetKey()</a></code><br>
							Document::KeyOffset()<br>
							<code><a href="class-Milko.PHPLib.Document.html#_IsPersistent">Milko\PHPLib\Document::IsPersistent()</a></code><br>
							<code><a href="class-Milko.PHPLib.Document.html#_IsModified">Milko\PHPLib\Document::IsModified()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="normaliseDeletedDocument" id="_normaliseDeletedDocument">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_normaliseDeletedDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#2133-2178" title="Go to source code">normaliseDeletedDocument</a>( <span><code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> <var>$theDocument</var></span> )</code>

			<div class="description short">
				<h4>Normalise inserted document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Normalise inserted document.</h4>

<p>This method will be called when a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance has been deleted, its
duty is to pass information back to the document, including eventual internal
native database properties.</p>

<p>The method expects a single parameter which should be a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance.</p>

<p>The method is implemented in this class to handle <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instances:</p>

<ul>
<li><tt><a href="Document::IsPersistent()">Document::IsPersistent()</a></tt>: If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the document's persistent state will be reset.
<li><tt><a href="Document::IsModified()">Document::IsModified()</a></tt>: If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the document's modification state will be set.
</ul>

<p>In derived classes you should first manage internal database properties, if relevant,
then call the current method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The deleted document.</dd>
					</dl></div>



					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Document.html#_IsPersistent">Milko\PHPLib\Document::IsPersistent()</a></code><br>
							<code><a href="class-Milko.PHPLib.Document.html#_IsModified">Milko\PHPLib\Document::IsModified()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="normaliseSelectedDocument" id="_normaliseSelectedDocument">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_normaliseSelectedDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#2185-2232" title="Go to source code">normaliseSelectedDocument</a>( <span><code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> <var>$theDocument</var></span>, <span>mixed <var>$theData</var></span> )</code>

			<div class="description short">
				<h4>Normalise selected document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Normalise selected document.</h4>

<p>This method will be called when a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance has been selected from
the current collection via a query, its duty is to pass information back to the
document, including eventual internal native database properties.</p>

<p>The method expects a parameter which should be a <code><a href="class-Milko.PHPLib.Container.html">Milko\PHPLib\Container</a></code> instance and the
native database document returned by the selection.</p>

<p>The method is implemented in this class to handle <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instances:</p>

<ul>
<li><tt><a href="Document::IsPersistent()">Document::IsPersistent()</a></tt>: If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the document's persistent state will be set.
<li><tt><a href="Document::IsModified()">Document::IsModified()</a></tt>: If the provided document is a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance, the document's modification state will be reset.
</ul>

<p>In derived classes you should first manage internal database properties, if relevant,
then call the current method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The selected document.</dd>
						<dt><var>$theData</var></dt>
						<dd>The native database document.</dd>
					</dl></div>



					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Document.html#_IsPersistent">Milko\PHPLib\Document::IsPersistent()</a></code><br>
							<code><a href="class-Milko.PHPLib.Document.html#_IsModified">Milko\PHPLib\Document::IsModified()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
			</table>
		</div>

		<div class="panel panel-default">
	        <div class="panel-heading"><h3>Methods inherited from <a href="class-Milko.PHPLib.Container.html#methods">Milko\PHPLib\Container</a></h3></div>
			<p class="elementList">
				<code><a href="class-Milko.PHPLib.Container.html#_arrayKeys">arrayKeys()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_arrayValues">arrayValues()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_convertToArray">convertToArray()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_manageAttribute">manageAttribute()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_manageFlagAttribute">manageFlagAttribute()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_manageProperty">manageProperty()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_offsetGet">offsetGet()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_offsetSet">offsetSet()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_offsetUnset">offsetUnset()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_toArray">toArray()</a></code>
			</p>
		</div>
		<div class="panel panel-default">
	        <div class="panel-heading"><h3>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></h3></div>
			<p class="elementList">
				<code><a href="class-ArrayObject.html#_append">append()</a></code>, 
				<code><a href="class-ArrayObject.html#_asort">asort()</a></code>, 
				<code><a href="class-ArrayObject.html#_count">count()</a></code>, 
				<code><a href="class-ArrayObject.html#_exchangeArray">exchangeArray()</a></code>, 
				<code><a href="class-ArrayObject.html#_getArrayCopy">getArrayCopy()</a></code>, 
				<code><a href="class-ArrayObject.html#_getFlags">getFlags()</a></code>, 
				<code><a href="class-ArrayObject.html#_getIterator">getIterator()</a></code>, 
				<code><a href="class-ArrayObject.html#_getIteratorClass">getIteratorClass()</a></code>, 
				<code><a href="class-ArrayObject.html#_ksort">ksort()</a></code>, 
				<code><a href="class-ArrayObject.html#_natcasesort">natcasesort()</a></code>, 
				<code><a href="class-ArrayObject.html#_natsort">natsort()</a></code>, 
				<code><a href="class-ArrayObject.html#_offsetExists">offsetExists()</a></code>, 
				<code><a href="class-ArrayObject.html#_serialize">serialize()</a></code>, 
				<code><a href="class-ArrayObject.html#_setFlags">setFlags()</a></code>, 
				<code><a href="class-ArrayObject.html#_setIteratorClass">setIteratorClass()</a></code>, 
				<code><a href="class-ArrayObject.html#_uasort">uasort()</a></code>, 
				<code><a href="class-ArrayObject.html#_uksort">uksort()</a></code>, 
				<code><a href="class-ArrayObject.html#_unserialize">unserialize()</a></code>
			</p>
		</div>







		<div class="panel panel-default">
            <div class="panel-heading"><h2>Constants summary</h2></div>
		</div>

		<div class="panel panel-default">
            <div class="panel-heading"><h3>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></h3></div>
			<p class="elementList">
				<code><a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a></code>, 
				<code><a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a></code>
			</p>
		</div>



		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="mDatabase" id="$mDatabase">
			<td class="attributes"><code>
				protected  
				<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code>
			</code></td>

			<td class="name">
					<a href="source-class-Milko.PHPLib.Collection.html#128-136" title="Go to source code"><var>$mDatabase</var></a>

				<div class="description short">
					<h4>Database object.</h4>
				</div>

				<div class="description detailed hidden">
					<h4>Database object.</h4>

<p>This data member holds the <i>database object</i>, it is the object that
instantiated the current collection.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$mDatabase" class="anchor">#</a>
					<code><span class="php-keyword1">NULL</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="mNativeObject" id="$mNativeObject">
			<td class="attributes"><code>
				protected  
				mixed
			</code></td>

			<td class="name">
					<a href="source-class-Milko.PHPLib.Collection.html#138-146" title="Go to source code"><var>$mNativeObject</var></a>

				<div class="description short">
					<h4>Collection native object.</h4>
				</div>

				<div class="description detailed hidden">
					<h4>Collection native object.</h4>

<p>This data member holds the <i>collection native object</i>, it is the object provided
by the database driver.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$mNativeObject" class="anchor">#</a>
					<code><span class="php-keyword1">NULL</span></code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		milkolib reference documentation API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
