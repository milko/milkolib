<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Milko\PHPLib\Collection | milkolib reference documentation</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">milkolib reference documentation</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-Milko.PHPLib.html" title="Summary of Milko\PHPLib"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
					</li>

						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>

					<li class="divider-vertical"></li>

					<li>
						<a href="-API-documentation.zip" title="Download documentation as ZIP archive"><span>Download</span></a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li>
						<a href="namespace-Composer.html">
							Composer<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Composer.Autoload.html">
							Autoload						</a>
							</li>
								</ul></li>
					<li class="active">
						<a href="namespace-Milko.html">
							Milko<span></span>
						</a>
							<ul>
					<li class="active">
						<a href="namespace-Milko.PHPLib.html">
							PHPLib<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Milko.PHPLib.ArangoDB.html">
							ArangoDB						</a>
							</li>
					<li>
						<a href="namespace-Milko.PHPLib.MongoDB.html">
							MongoDB						</a>
							</li>
								</ul></li></ul></li>
					<li>
						<a href="namespace-MongoDB.html">
							MongoDB<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-MongoDB.Exception.html">
							Exception						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Model.html">
							Model						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Operation.html">
							Operation						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Tests.html">
							Tests<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-MongoDB.Tests.Collection.html">
							Collection<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-MongoDB.Tests.Collection.CrudSpec.html">
							CrudSpec						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-MongoDB.Tests.Database.html">
							Database						</a>
							</li>
					<li>
						<a href="namespace-MongoDB.Tests.Operation.html">
							Operation						</a>
							</li>
								</ul></li></ul></li>
					<li>
						<a href="namespace-None.html">
							None						</a>
							</li>
					<li>
						<a href="namespace-PHP.html">
							PHP						</a>
							</li>
					<li>
						<a href="namespace-triagens.html">
							triagens<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-triagens.ArangoDb.html">
							ArangoDb						</a>
							</li>
								</ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Milko.PHPLib.Collection.html">Collection</a></li>
				<li><a href="class-Milko.PHPLib.Container.html">Container</a></li>
				<li><a href="class-Milko.PHPLib.Database.html">Database</a></li>
				<li><a href="class-Milko.PHPLib.DataServer.html">DataServer</a></li>
				<li><a href="class-Milko.PHPLib.DataSource.html">DataSource</a></li>
				<li><a href="class-Milko.PHPLib.Document.html">Document</a></li>
				<li><a href="class-Milko.PHPLib.DocumentSet.html">DocumentSet</a></li>
				<li><a href="class-Milko.PHPLib.Server.html">Server</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class Collection</h1>


	<div class="description">
	<h4>Collection ancestor object.</h4>

<p>This <em>abstract</em> class is the ancestor of all classes representing collection
instances.</p>

<p>This class features a data member that holds the <code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code> object that
instantiated the current collection and another data member that holds the native
driver's collection object.</p>

<p>The class implements a public interface that deploys the common interface of derived
concrete classes:</p>

<ul> <li><em>Collection related:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Server.html">Milko\PHPLib\Server</a></code></b>: Return the database server object. <li><b><code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code></b>: Return the database object. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Connection">Milko\PHPLib\Collection::Connection()</a></code></b>: Return the collection native driver object. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Truncate">Milko\PHPLib\Collection::Truncate()</a></code></b>: Clear collection contents; this method is virtual. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Drop">Milko\PHPLib\Collection::Drop()</a></code></b>: Drop current collection; this method is virtual. </ul> <li><em>Document related:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_ToDocument">Milko\PHPLib\Collection::ToDocument()</a></code></b>: Convert native data to a standard <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_FromDocument">Milko\PHPLib\Collection::FromDocument()</a></code></b>: Convert a standard <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> to native data. </ul> <li><em>Offset related:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_IdOffset">Milko\PHPLib\Collection::IdOffset()</a></code></b>: Return the document identifier offset. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_KeyOffset">Milko\PHPLib\Collection::KeyOffset()</a></code></b>: Return the document key offset. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_ClassOffset">Milko\PHPLib\Collection::ClassOffset()</a></code></b>: Return the document class offset. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_RevisionOffset">Milko\PHPLib\Collection::RevisionOffset()</a></code></b>: Return the document revision offset. </ul> <li><em>Record related:</em> <ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Insert">Milko\PHPLib\Collection::Insert()</a></code></b>: Insert one or more records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Update">Milko\PHPLib\Collection::Update()</a></code></b>: Update one or more records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Replace">Milko\PHPLib\Collection::Replace()</a></code></b>: Replace one or more records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_Delete">Milko\PHPLib\Collection::Delete()</a></code></b>: Delete one or more records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_FindByExample">Milko\PHPLib\Collection::FindByExample()</a></code></b>: Search by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_FindByQuery">Milko\PHPLib\Collection::FindByQuery()</a></code></b>: Perform a native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_CountByExample">Milko\PHPLib\Collection::CountByExample()</a></code></b>: Return record count by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_CountByQuery">Milko\PHPLib\Collection::CountByQuery()</a></code></b>: Return record count by native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_MapReduce">Milko\PHPLib\Collection::MapReduce()</a></code></b>: Perform a map and reduce query. </ul>
</ul>

<p>The public methods do not implement the actual operations, this is delegated to a
protected virtual interface which must be implemented by derived concrete classes:</p>

<ul> <li><b><code><a href="class-Milko.PHPLib.Collection.html#_collectionNew">Milko\PHPLib\Collection::collectionNew()</a></code></b>: Instantiate a driver native database instance. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_collectionName">Milko\PHPLib\Collection::collectionName()</a></code></b>: Return the collection name. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doInsert">Milko\PHPLib\Collection::doInsert()</a></code></b>: Insert one or more records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doUpdate">Milko\PHPLib\Collection::doUpdate()</a></code></b>: Update one or many records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doReplace">Milko\PHPLib\Collection::doReplace()</a></code></b>: Replace one or many records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doDelete">Milko\PHPLib\Collection::doDelete()</a></code></b>: Delete one or many records. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doFindByExample">Milko\PHPLib\Collection::doFindByExample()</a></code></b>: Find one or many records by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doFindByQuery">Milko\PHPLib\Collection::doFindByQuery()</a></code></b>: Perform a driver native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doCountByExample">Milko\PHPLib\Collection::doCountByExample()</a></code></b>: Return record count by example. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doCountByQuery">Milko\PHPLib\Collection::doCountByQuery()</a></code></b>: Return record count by native query. <li><b><code><a href="class-Milko.PHPLib.Collection.html#_doMapReduce">Milko\PHPLib\Collection::doMapReduce()</a></code></b>: Perform a map and reduce query.
</ul>

<p>When persisting documents, this class expects all provided documents to be instances of
<code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>.</p>
	</div>

	<dl class="tree well">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
			<a href="class-Milko.PHPLib.Container.html"><span>Milko\PHPLib\Container</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Milko\PHPLib\Collection</span></b>			
			
			
		</dd>
	</dl>


	<div>
		<h3>Direct known subclasses</h3>
		<p class="elementList">
			<code><a href="class-Milko.PHPLib.ArangoDB.Collection.html">Milko\PHPLib\ArangoDB\Collection</a></code>, 
			<code><a href="class-Milko.PHPLib.MongoDB.Collection.html">Milko\PHPLib\MongoDB\Collection</a></code>
		</p>
	</div>






	<div class="alert alert-info">
		<b>Abstract</b><br>
		
		<b>Namespace:</b> <a href="namespace-Milko.html">Milko</a>\<a href="namespace-Milko.PHPLib.html">PHPLib</a><br>
		<b>Package:</b> Core<br>

				<b>Author:</b>
				Milko A. Škofič <a href="&#109;&#x61;&#105;&#x6c;&#116;&#111;&#x3a;&#115;&#x6b;&#111;&#x66;i&#99;&#x40;&#103;&#x6d;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#x6d;">&#115;&#x6b;&#111;&#x66;i&#99;&#x40;&#103;&#x6d;&#97;&#x69;&#x6c;&#46;&#x63;&#111;&#x6d;</a><br>
				<b>Version:</b>
				1.00<br>
				<b>Since:</b>
				17/02/2016<br>
				<b>Example:</b>
				../../test/Collection.php<br>
				<b>Example:</b>
				<p>$server = new Milko\PHPLib\DataServer( 'protocol://user:pass@host:9090/database/collection' );<br/>
$database = $server->RetrieveDatabase( "database" );<br/>
$collection = $database->RetrieveCollection( "collection" );<br/>
// Work with that collection...<br/>
$collection->Drop(); // Drop collection.</p><br>
			<b>Located at</b> <a href="source-class-Milko.PHPLib.Collection.html#20-1239" title="Go to source code">PHPLib/Collection.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="__construct" id="___construct">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___construct">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#140-180" title="Go to source code">__construct</a>( <span><code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code> <var>$theDatabase</var></span>, <span>string <var>$theCollection</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Instantiate class.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Instantiate class.</h4>

<p>A database is instantiated by providing the <code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code> instance to which the
collection belongs, the collection name and a set of native database driver options.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDatabase</var></dt>
						<dd>Database.</dd>
						<dt><var>$theCollection</var></dt>
						<dd>Collection name.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Native driver options.</dd>
					</dl></div>



					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_collectionNew">Milko\PHPLib\Collection::collectionNew()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>$server = new DataServer( 'driver://user:pass@host:8989' );<br/>
$database = new Database( $server, "database" );<br/>
$collection = new Collection( $database, "collection" );</p><br>
							<p>// In general you will use this form:<br/>
$server = new DataServer( 'driver://user:pass@host:8989/database/collection' );<br/>
$database = $server->RetrieveDatabase( "database" );<br/>
$collection = $database->RetrieveCollection( "collection" );</p><br>
					</div>

					<h4>Overrides</h4>
					<div class="list"><code><a href="class-ArrayObject.html#___construct">ArrayObject::__construct</a></code></div>

			</div>
			</div></td>
		</tr>
		<tr data-order="__toString" id="___toString">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___toString">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#187-201" title="Go to source code">__toString</a>( )</code>

			<div class="description short">
				<h4>Return collection name</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return collection name</h4>

<p>Objects of this class should return the collection name when cast to string.</p>

<p>The method will use the protected <code><a href="class-Milko.PHPLib.Collection.html#_collectionName">Milko\PHPLib\Collection::collectionName()</a></code> method.</p>



					<h4>Returns</h4>
					<div class="list">
						string
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_collectionName">Milko\PHPLib\Collection::collectionName()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							$name = (string) $collection;<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Server" id="_Server">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Milko.PHPLib.DataServer.html">Milko\PHPLib\DataServer</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Server">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#217-227" title="Go to source code">Server</a>( )</code>

			<div class="description short">
				<h4>Return the database server.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the database server.</h4>

<p>This method can be used to retrieve the database server object.</p>



					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Milko.PHPLib.DataServer.html">Milko\PHPLib\DataServer</a></code><br>Collection server object.
					</div>


					<h4>Example</h4>
					<div class="list">
							$server = $this->Server();<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Database" id="_Database">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Database">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#234-244" title="Go to source code">Database</a>( )</code>

			<div class="description short">
				<h4>Return the database object.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the database object.</h4>

<p>This method can be used to retrieve the database object.</p>



					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code><br>Database object.
					</div>


					<h4>Example</h4>
					<div class="list">
							$database = $this->Database();<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Connection" id="_Connection">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Connection">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#251-261" title="Go to source code">Connection</a>( )</code>

			<div class="description short">
				<h4>Return the collection native driver object.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the collection native driver object.</h4>

<p>This method can be used to retrieve the collection native driver object.</p>



					<h4>Returns</h4>
					<div class="list">
						mixed<br>Collection native driver object.
					</div>


					<h4>Example</h4>
					<div class="list">
							$col = $this->Connection();<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Truncate" id="_Truncate">

			<td class="attributes"><code>
				abstract public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Truncate">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#277-295" title="Go to source code">Truncate</a>( <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Clear the collection contents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Clear the collection contents.</h4>

<p>This method can be used to erase the contents of the collection, the method expects a
single parameter that represents driver native options.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>

<p>The provided parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="Drop" id="_Drop">

			<td class="attributes"><code>
				abstract public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Drop">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#302-320" title="Go to source code">Drop</a>( <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Drop the current collection.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Drop the current collection.</h4>

<p>This method can be used to the current collection, the method expects a single
parameter that represents driver native options.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>

<p>The provided parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="ToDocument" id="_ToDocument">

			<td class="attributes"><code>
				abstract public 
				<code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_ToDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#336-356" title="Go to source code">ToDocument</a>( <span>mixed <var>$theData</var></span>, <span>string <var>$theClass</var> = <span class="php-quote">'Milko\PHPLib\Document'</span> </span> )</code>

			<div class="description short">
				<h4>Convert native data to standard document.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Convert native data to standard document.</h4>

<p>This method can be used to instantiate a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> object from database native
data, the method expects two parameters:</p>

<ul> <li><b>$theData</b>: The data expressed in the database native type. <li><b>$theClass</b>: The class name of the resulting <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> instance.
</ul>

<p>This method is declared virtual, to allow database native derived classes to handle
their native types.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theData</var></dt>
						<dd>Database native document.</dd>
						<dt><var>$theClass</var></dt>
						<dd>Expected class name.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code><br>Standard document object.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="FromDocument" id="_FromDocument">

			<td class="attributes"><code>
				abstract public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FromDocument">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#363-377" title="Go to source code">FromDocument</a>( <span><code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> <var>$theDocument</var></span> )</code>

			<div class="description short">
				<h4>Convert a standard document to native data.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Convert a standard document to native data.</h4>

<p>This method can be used to convert a <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code> object into database native
data.</p>

<p>This method is declared virtual, to allow database native derived classes to handle
their native types.</p>

<p>Derived concrete classes must implement this method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>Document to be converted.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>Database native object.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="IdOffset" id="_IdOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_IdOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#393-401" title="Go to source code">IdOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document identifier offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document identifier offset.</h4>

<p>This method should return the document identifier or reference offset, concrete
derived classes should implement this method.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document identifier offset.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="KeyOffset" id="_KeyOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_KeyOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#408-416" title="Go to source code">KeyOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document key offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document key offset.</h4>

<p>This method should return the document key offset, concrete derived classes should
implement this method.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document key offset.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="ClassOffset" id="_ClassOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_ClassOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#423-431" title="Go to source code">ClassOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document class offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document class offset.</h4>

<p>This method should return the document class offset, concrete derived classes should
implement this method.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document class offset.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="RevisionOffset" id="_RevisionOffset">

			<td class="attributes"><code>
				abstract public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_RevisionOffset">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#438-446" title="Go to source code">RevisionOffset</a>( )</code>

			<div class="description short">
				<h4>Return the document revision offset.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the document revision offset.</h4>

<p>This method should return the document revision offset, concrete derived classes should
implement this method.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>Document revision offset.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="Insert" id="_Insert">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Insert">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#462-510" title="Go to source code">Insert</a>( <span>mixed <var>$theDocument</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Insert documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert documents.</h4>

<p>This method can be used to insert one or more documents in the collection, the method
expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The document or documents to be inserted, to provide a list of documents, the parameter must be an array.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>The options parameter can be used to indicate whether a list of documents was
provided, or only one: set <tt>'$doAll' => TRUE</tt> to indicate that a list of
records was provided; by default the parameter will be <tt>FALSE</tt>.</p>

<p>If a single document was provided, the method will return its unique identifier, if
a list of documents was provided, the method will return the list of identifiers in
order.</p>

<p>By default the operation will assume we provided a single document.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The document(s) to be inserted.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The document's unique identifier(s).
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doInsert">Milko\PHPLib\Collection::doInsert()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Insert the provided document.<br/>
$id = $collection->Insert( $document );<br/>
// Insert the provided list of documents.<br/>
$ids = $collection->Insert( $list, [ '$doAll' => TRUE ] );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Update" id="_Update">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Update">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#517-562" title="Go to source code">Update</a>( <span>array <var>$theCriteria</var></span>, <span>mixed <var>$theFilter</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Update documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Update documents.</h4>

<p>This method can be used to update one or more documents in the collection, the method
expects the following parameters:</p>

<ul>
<li><b>$theCriteria</b>: The modification criteria.
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>The options parameter can be used to indicate whether to update all records selected
by the filter, or just the first one: provide <tt>'$doAll' => FALSE</tt> to only
modify the first document; by default this method will update all matched documents.</p>

<p>By default the operation will process all documents in the selection.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theCriteria</var></dt>
						<dd>The modification criteria.</dd>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of modified records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doUpdate">Milko\PHPLib\Collection::doUpdate()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Update first document.<br/>
$count = $collection->Update( $criteria, $filter, [ '$doAll' => FALSE ] );<br/>
// Update all documents.<br/>
$count = $collection->Update( $criteria, $filter );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Replace" id="_Replace">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Replace">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#569-605" title="Go to source code">Replace</a>( <span>array <var>$theDocument</var></span>, <span>mixed <var>$theFilter</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Replace a record.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Replace a record.</h4>

<p>This method can be used to replace the first selected document in a collection, the
method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The replacement document.
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>By default the operation will process all documents in the selection.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The replacement document.</dd>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of replaced records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doReplace">Milko\PHPLib\Collection::doReplace()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="Delete" id="_Delete">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_Delete">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#612-663" title="Go to source code">Delete</a>( <span>mixed <var>$theFilter</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Delete documents.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete documents.</h4>

<p>This method can be used to delete one or more documents selected by the provided
filter, the method expects the following parameters:</p>

<ul>
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>The options parameter can be used to indicate whether to delete all records selected
by the filter, or just the first one: provide <tt>'$doAll' => FALSE</tt> to only
delete the first document; by default this method will delete all matched documents.</p>

<p>By default the operation will process all documents in the selection.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of deleted records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doDelete">Milko\PHPLib\Collection::doDelete()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Delete first document.<br/>
$count = $collection->Delete( $filter, [ '$doAll' => FALSE ] );<br/>
// Delete all selected documents.<br/>
$count = $collection->Delete( $filter );<br/>
// Delete all documents.<br/>
$count = $collection->Delete();</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="FindByExample" id="_FindByExample">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FindByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#670-716" title="Go to source code">FindByExample</a>( <span>array <var>$theDocument</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Find by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by example.</h4>

<p>This method can be used to select all documents matching the provided example
document. The method will select all documents in the collection whose properties
match all the properties of the provided example document, the method expects the
following parameters:</p>

<ul>
<li><b>$theDocument</b>: The search filter as an example document.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>The options parameter can be used to indicate the start and limit of the selection:
provide <tt>'$start'</em> to indicate from which found record to start and
<em>'$limit'</em> to indicate the number of documents to be returned; by default the
method will start with the first document and return all.</p>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doFindByExample">Milko\PHPLib\Collection::doFindByExample()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Find first five document.
$iterator = $collection->FindByExample( [ 'color' => 'red', 'city' => 'Rome' ], [ '$start' => 0, '$limit' => 5 ] );<br/>
// Find all selected documents.<br/>
$iterator = $collection->FindByExample( [ 'color' => 'red', 'city' => 'Rome' ] );<br/>
// Find all documents.<br/>
$iterator = $collection->FindByExample();</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="FindByQuery" id="_FindByQuery">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_FindByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#723-752" title="Go to source code">FindByQuery</a>( <span>mixed <var>$theQuery</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Query the collection.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Query the collection.</h4>

<p>This method can be used to perform a query in the current collection, the method
expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The query as the driver native selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doFindByQuery">Milko\PHPLib\Collection::doFindByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="CountByExample" id="_CountByExample">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_CountByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#759-794" title="Go to source code">CountByExample</a>( <span>array <var>$theDocument</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Count by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Count by example.</h4>

<p>This method can be used to return the record count matching the provided example
document. The method will return the count of all documents in the collection whose
properties match all the properties of the provided example document, the method
expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The search filter as an example document.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The found records count.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doCountByExample">Milko\PHPLib\Collection::doCountByExample()</a></code><br>
					</div>
					<h4>Example</h4>
					<div class="list">
							<p>// Get record count.
$count = $collection->CountByExample( [ 'color' => 'red', 'city' => 'Rome' ] );</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="CountByQuery" id="_CountByQuery">

			<td class="attributes"><code>
				 public 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_CountByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#801-831" title="Go to source code">CountByQuery</a>( <span>mixed <var>$theQuery</var> = <span class="php-keyword1">NULL</span></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Count by example.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Count by example.</h4>

<p>This method can be used to return the record count matching the provided native
query. The method will return the count of all documents in the collection that match
the provided query, the method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The search filter as an example document.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The found records count.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doCountByQuery">Milko\PHPLib\Collection::doCountByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="MapReduce" id="_MapReduce">

			<td class="attributes"><code>
				 public 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_MapReduce">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#838-867" title="Go to source code">MapReduce</a>( <span>mixed <var>$thePipeline</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Execute an aggregation query.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Execute an aggregation query.</h4>

<p>This method can be used to perform a map and reduce query, the method expects the
following parameters:</p>

<ul>
<li><b>$thePipeline</b>: The aggregation pipeline.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>It is the responsibility of the caller to ensure the server is connected.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$thePipeline</var></dt>
						<dd>The aggregation pipeline.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>Uses</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_doMapReduce">Milko\PHPLib\Collection::doMapReduce()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="collectionNew" id="_collectionNew">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_collectionNew">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#883-903" title="Go to source code">collectionNew</a>( <span>string <var>$theCollection</var></span>, <span>array <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

			<div class="description short">
				<h4>Return a native collection object.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return a native collection object.</h4>

<p>This method should instantiate and return a native driver collection object.</p>

<p>This method assumes that the server is connected and that the <code><a href="class-Milko.PHPLib.Server.html">Milko\PHPLib\Server</a></code> was
set.</p>

<p>The options parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theCollection</var></dt>
						<dd>Collection name.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>Native collection object.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#___construct">Milko\PHPLib\Collection::__construct()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="collectionName" id="_collectionName">

			<td class="attributes"><code>
				abstract protected 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_collectionName">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#910-927" title="Go to source code">collectionName</a>( )</code>

			<div class="description short">
				<h4>Return the collection name.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return the collection name.</h4>

<p>This method should return the current collection name.</p>

<p>Note that this method <em>must</em> return a non empty string.</p>

<p>The provided parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>This method must be implemented by derived concrete classes.</p>



					<h4>Returns</h4>
					<div class="list">
						string<br>The collection name.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#___toString">Milko\PHPLib\Collection::__toString()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doInsert" id="_doInsert">

			<td class="attributes"><code>
				abstract protected 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doInsert">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#943-966" title="Go to source code">doInsert</a>( <span>mixed <var>$theDocument</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Insert one or more records.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Insert one or more records.</h4>

<p>This method should insert the provided record or records, the method expects the
following parameters:</p>

<ul>
<li><b>$theDocument</b>: The document or documents to be inserted.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>If the <tt>'$doAll'</tt> option is set, the method will assume the provided parameter
to be a list of documents and will return the list of inserted document identifiers;
if the option is not set, the method will assume the parameter to be a single
document and will return its identifier; the option <em>must</em> be provided. Other
provided values represent native driver options.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The document(s) to be inserted.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed<br>The document's unique identifier(s).
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_Insert">Milko\PHPLib\Collection::Insert()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doUpdate" id="_doUpdate">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doUpdate">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#973-996" title="Go to source code">doUpdate</a>( <span>mixed <var>$theFilter</var></span>, <span>array <var>$theCriteria</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Update one or more records.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Update one or more records.</h4>

<p>This method should update the first or all records matching the provided search
criteria, the method expects the following parameters:</p>

<ul>
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theCriteria</b>: The modification criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>If the <tt>'$doAll'</tt> option is set, the method will update all found records, if
not, it will only update the first found record; the option <em>must</em> be
provided. Other provided values represent native driver options.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theCriteria</var></dt>
						<dd>The modification criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of modified records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_Update">Milko\PHPLib\Collection::Update()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doReplace" id="_doReplace">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doReplace">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1003-1022" title="Go to source code">doReplace</a>( <span>mixed <var>$theFilter</var></span>, <span>array <var>$theDocument</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Replace a record.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Replace a record.</h4>

<p>This method should replace the matching provided record, the method expects the
following parameters:</p>

<ul>
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theDocument</b>: The replacement record.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theDocument</var></dt>
						<dd>The replacement document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of replaced records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_Replace">Milko\PHPLib\Collection::Replace()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doDelete" id="_doDelete">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doDelete">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1029-1050" title="Go to source code">doDelete</a>( <span>mixed <var>$theFilter</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Delete the first or all records.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Delete the first or all records.</h4>

<p>This method should delete the first or all records matching the provided search
criteria, the method expects the following parameters:</p>

<ul>
<li><b>$theFilter</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>If the <tt>'$doAll'</tt> option is set, the method will delete all found records, if
not, it will only delete the first found record; the option <em>must</em> be
provided. Other provided values represent native driver options.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theFilter</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The number of deleted records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_Delete">Milko\PHPLib\Collection::Delete()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doFindByExample" id="_doFindByExample">

			<td class="attributes"><code>
				abstract protected 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doFindByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1057-1080" title="Go to source code">doFindByExample</a>( <span>array <var>$theDocument</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Find by example the first or all records.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Find by example the first or all records.</h4>

<p>This method should find the records matching the provided example document, the
method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The search filter as an example document.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>The options parameter can be used to indicate the start and limit of the selection:
provide <tt>'$start'</tt> to indicate from which found record to start and
<tt>'$limit'</tt> to indicate the number of documents to be returned; by default the
method will start with the first document and return all. Other provided values
represent native driver options.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByExample">Milko\PHPLib\Collection::FindByExample()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doFindByQuery" id="_doFindByQuery">

			<td class="attributes"><code>
				abstract protected 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doFindByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1087-1104" title="Go to source code">doFindByQuery</a>( <span>mixed <var>$theQuery</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Query the collection.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Query the collection.</h4>

<p>This method should perform the provided query expressed in the driver's native
format, the method expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Collection native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_FindByQuery">Milko\PHPLib\Collection::FindByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doCountByExample" id="_doCountByExample">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doCountByExample">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1111-1128" title="Go to source code">doCountByExample</a>( <span>array <var>$theDocument</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Return a find by example record count.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return a find by example record count.</h4>

<p>This method should return the record count matching the provided example document,
the method expects the following parameters:</p>

<ul>
<li><b>$theDocument</b>: The search filter as an example document.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theDocument</var></dt>
						<dd>The example document.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The records count.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_CountByExample">Milko\PHPLib\Collection::CountByExample()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doCountByQuery" id="_doCountByQuery">

			<td class="attributes"><code>
				abstract protected 
				integer
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doCountByQuery">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1135-1152" title="Go to source code">doCountByQuery</a>( <span>mixed <var>$theQuery</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Return a find by query record count.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Return a find by query record count.</h4>

<p>This method should return the record count of the provided query expressed in the
driver's native format, the method expects the following parameters:</p>

<ul>
<li><b>$theQuery</b>: The selection criteria.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theQuery</var></dt>
						<dd>The selection criteria.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Collection native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						integer<br>The records count.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_CountByQuery">Milko\PHPLib\Collection::CountByQuery()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="doMapReduce" id="_doMapReduce">

			<td class="attributes"><code>
				abstract protected 
				<code><a href="class-Iterator.html">Iterator</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_doMapReduce">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1159-1185" title="Go to source code">doMapReduce</a>( <span>mixed <var>$thePipeline</var></span>, <span>array <var>$theOptions</var></span> )</code>

			<div class="description short">
				<h4>Execute an aggregation query.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Execute an aggregation query.</h4>

<p>This method should perform a map and reduce query expressed in the driver's native
format, the method expects the following parameters:</p>

<ul>
<li><b>$thePipeline</b>: The aggregation pipeline.
<li><b>$theOptions</b>: An array of options representing driver native options.
</ul>

<p>This method assumes that the server is connected, it is the responsibility of the
caller to ensure this.</p>

<p>The options parameter represents a set of native options provided to the driver for
performing the operation: if needed, in derived concrete classes you should define
globally a set of options and subtitute a <tt>NULL</tt> value with them in this
method, this will guarantee that the options will always be used when performing this
operation.</p>

<p>This method must be implemented by derived concrete classes.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$thePipeline</var></dt>
						<dd>The aggregation pipeline.</dd>
						<dt><var>$theOptions</var></dt>
						<dd>Driver native options.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Iterator.html">Iterator</a></code><br>The found records.
					</div>


					<h4>Used by</h4>
					<div class="list">
							<code><a href="class-Milko.PHPLib.Collection.html#_MapReduce">Milko\PHPLib\Collection::MapReduce()</a></code><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="cursorToArray" id="_cursorToArray">

			<td class="attributes"><code>
				 protected 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_cursorToArray">#</a>
			<code><a href="source-class-Milko.PHPLib.Collection.html#1201-1235" title="Go to source code">cursorToArray</a>( <span><code><a href="class-MongoDB.Driver.Cursor.html">MongoDB\Driver\Cursor</a></code> <var>$theCursor</var></span> )</code>

			<div class="description short">
				<h4>Format a query result.</h4>
			</div>

			<div class="description detailed hidden">
				<h4>Format a query result.</h4>

<p>This method will be used to convert a cursor into an array of <code><a href="class-Milko.PHPLib.Document.html">Milko\PHPLib\Document</a></code>
elements.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$theCursor</var></dt>
						<dd>The result cursor.</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array<br>The result as an array.
					</div>




			</div>
			</div></td>
		</tr>
			</table>
		</div>

		<div class="panel panel-default">
	        <div class="panel-heading"><h3>Methods inherited from <a href="class-Milko.PHPLib.Container.html#methods">Milko\PHPLib\Container</a></h3></div>
			<p class="elementList">
				<code><a href="class-Milko.PHPLib.Container.html#_arrayKeys">arrayKeys()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_arrayValues">arrayValues()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_convertToArray">convertToArray()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_manageAttribute">manageAttribute()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_manageProperty">manageProperty()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_offsetGet">offsetGet()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_offsetSet">offsetSet()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_offsetUnset">offsetUnset()</a></code>, 
				<code><a href="class-Milko.PHPLib.Container.html#_toArray">toArray()</a></code>
			</p>
		</div>
		<div class="panel panel-default">
	        <div class="panel-heading"><h3>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></h3></div>
			<p class="elementList">
				<code><a href="class-ArrayObject.html#_append">append()</a></code>, 
				<code><a href="class-ArrayObject.html#_asort">asort()</a></code>, 
				<code><a href="class-ArrayObject.html#_count">count()</a></code>, 
				<code><a href="class-ArrayObject.html#_exchangeArray">exchangeArray()</a></code>, 
				<code><a href="class-ArrayObject.html#_getArrayCopy">getArrayCopy()</a></code>, 
				<code><a href="class-ArrayObject.html#_getFlags">getFlags()</a></code>, 
				<code><a href="class-ArrayObject.html#_getIterator">getIterator()</a></code>, 
				<code><a href="class-ArrayObject.html#_getIteratorClass">getIteratorClass()</a></code>, 
				<code><a href="class-ArrayObject.html#_ksort">ksort()</a></code>, 
				<code><a href="class-ArrayObject.html#_natcasesort">natcasesort()</a></code>, 
				<code><a href="class-ArrayObject.html#_natsort">natsort()</a></code>, 
				<code><a href="class-ArrayObject.html#_offsetExists">offsetExists()</a></code>, 
				<code><a href="class-ArrayObject.html#_serialize">serialize()</a></code>, 
				<code><a href="class-ArrayObject.html#_setFlags">setFlags()</a></code>, 
				<code><a href="class-ArrayObject.html#_setIteratorClass">setIteratorClass()</a></code>, 
				<code><a href="class-ArrayObject.html#_uasort">uasort()</a></code>, 
				<code><a href="class-ArrayObject.html#_uksort">uksort()</a></code>, 
				<code><a href="class-ArrayObject.html#_unserialize">unserialize()</a></code>
			</p>
		</div>







		<div class="panel panel-default">
            <div class="panel-heading"><h2>Constants summary</h2></div>
		</div>

		<div class="panel panel-default">
            <div class="panel-heading"><h3>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></h3></div>
			<p class="elementList">
				<code><a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a></code>, 
				<code><a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a></code>
			</p>
		</div>



		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="mDatabase" id="$mDatabase">
			<td class="attributes"><code>
				protected  
				<code><a href="class-Milko.PHPLib.Database.html">Milko\PHPLib\Database</a></code>
			</code></td>

			<td class="name">
					<a href="source-class-Milko.PHPLib.Collection.html#105-113" title="Go to source code"><var>$mDatabase</var></a>

				<div class="description short">
					<h4>Database object.</h4>
				</div>

				<div class="description detailed hidden">
					<h4>Database object.</h4>

<p>This data member holds the <i>database object</i>, it is the object that
instantiated the current collection.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$mDatabase" class="anchor">#</a>
					<code><span class="php-keyword1">NULL</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="mNativeObject" id="$mNativeObject">
			<td class="attributes"><code>
				protected  
				mixed
			</code></td>

			<td class="name">
					<a href="source-class-Milko.PHPLib.Collection.html#115-123" title="Go to source code"><var>$mNativeObject</var></a>

				<div class="description short">
					<h4>Collection native object.</h4>
				</div>

				<div class="description detailed hidden">
					<h4>Collection native object.</h4>

<p>This data member holds the <i>collection native object</i>, it is the object provided
by the database driver.</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$mNativeObject" class="anchor">#</a>
					<code><span class="php-keyword1">NULL</span></code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		milkolib reference documentation API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
